---
export interface Props {
  variant?: 'default' | 'featured' | 'glass';
  hover?: boolean;
  class?: string;
}

const { 
  variant = 'default', 
  hover = true,
  class: className = '' 
} = Astro.props;

const classes = [
  'card',
  `card--${variant}`,
  hover && 'card--hover',
  className
].filter(Boolean).join(' ');
---

<div class={classes} data-animate="card">
  <div class="card__content">
    <slot />
  </div>
  <div class="card__border" aria-hidden="true"></div>
  <div class="card__glow" aria-hidden="true"></div>
</div>

<style>
  .card {
    position: relative;
    padding: var(--space-6);
    border-radius: var(--radius-xl);
    overflow: hidden;
    transition: all var(--duration-normal) var(--ease-out);
  }

  .card__content {
    position: relative;
    z-index: 1;
  }

  .card__border {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(255, 255, 255, 0.02) 50%,
      rgba(255, 255, 255, 0.05) 100%
    );
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    transition: all var(--duration-normal) var(--ease-out);
  }

  .card__glow {
    position: absolute;
    inset: -50%;
    background: radial-gradient(
      circle at 50% 50%,
      rgba(0, 212, 255, 0.15) 0%,
      transparent 50%
    );
    opacity: 0;
    transition: opacity var(--duration-slow) var(--ease-out);
    pointer-events: none;
    z-index: 0;
  }

  /* Default Variant */
  .card--default {
    background: var(--color-bg-secondary);
  }

  /* Glass Variant */
  .card--glass {
    background: var(--color-glass);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  /* Featured Variant */
  .card--featured {
    background: var(--color-bg-secondary);
  }

  .card--featured .card__border {
    background: var(--color-accent-gradient);
  }

  /* Hover Effects */
  .card--hover:hover {
    transform: translateY(-4px);
  }

  .card--hover:hover .card__border {
    background: linear-gradient(
      135deg,
      rgba(0, 212, 255, 0.5) 0%,
      rgba(139, 92, 246, 0.5) 100%
    );
  }

  .card--hover:hover .card__glow {
    opacity: 1;
  }
</style>
